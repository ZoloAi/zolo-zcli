<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level 7: Animations & Progress (Bifrost)</title>
    <script src="../../../../zCLI/subsystems/zComm/zComm_modules/bifrost/client/src/bifrost_client.js"></script>
</head>
<body>
    <div class="zContainer zmt-5">
        
        <div class="zD-flex zFlexColumn zAlignItems-center zmb-4">
            <h1>ğŸ¡ Level 7: Animations & Progress (Bifrost)</h1>
            <p>Time-based events with real-time WebSocket updates</p>
            
            <div class="zSection-success zp-3 zmt-3">
                âœ¨ <strong>Animations over WebSocket!</strong><br>
                Progress bars, spinners, iterators, and swiperâ€”all animating in real-time.
            </div>
            
            <div class="zD-flex zmt-3" style="gap: 15px;">
                <button class="zoloButton zBtnPrimary" disabled>Auto-Connected âœ¨</button>
                <button class="zoloButton zBtnDanger" onclick="disconnect()">Disconnect</button>
            </div>
        </div>

        <div id="status" class="zD-none zSection zp-3 zmb-3"></div>
        <div id="zVaF" class="zContainer"><h1>zVaF Output</h1></div>

    </div>

    <script>
        // ğŸ¨ Swiper-Style Elegance! One declaration, everything happens automatically.
        const client = new BifrostClient('ws://127.0.0.1:8765', {
            autoConnect: true,              // â† Auto-connect on instantiation
            zTheme: true,                   // â† Enable zTheme CSS & rendering (auto-loads CSS!)
            // targetElement: 'zVaF',       // â† Optional: default is 'zVaF' (zView and Function)
            autoRequest: 'show_animations', // â† Auto-send on connect (trigger animations demo)
            debug: true,                    // â† See what's happening in console
            onConnected: (info) => console.log('âœ… Connected!', info),
            onDisconnected: () => console.log('âŒ Disconnected'),
            onError: (err) => console.error('âŒ Error:', err)
        });

        // Expose client to window (if needed for custom interactions)
        window.bifrostClient = client;

        function connect() {
            // Already connected via autoConnect!
            console.log('Already auto-connected! âœ¨');
        }

        function disconnect() {
            if (client) client.disconnect();
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         * Architecture:
         * 
         * 1. Backend sends time-based events via WebSocket
         * 2. BifrostClient routes to zDisplayRenderer
         * 3. Renderer creates/updates CSS animations:
         *    - progress_bar â†’ CSS progress widget
         *    - spinner â†’ CSS spinner animation
         *    - progress_iterator â†’ Real-time updates
         *    - swiper â†’ Touch-enabled carousel
         * 
         * Result: Smooth animations over WebSocket! âœ¨
         * 
         * Note: Some events (progress_bar, swiper) may show as text
         * if CSS renderers aren't fully implemented yet. Check
         * zdisplay_renderer.js for current support.
         * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    </script>

</body>
</html>


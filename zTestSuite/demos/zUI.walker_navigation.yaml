# zTestSuite/demos/zUI.walker_navigation.yaml
# Navigation & Cross-File Linking Demo

MainHub:
  # Main navigation hub with cross-file links
  ~Root*:
    - "Local Features"
    - "$Advanced.Root"
    - "$DataExplorer.Root"
    - "^Quick Session"
    - "stop"
  
  "Local Features":
    ~Menu*: ["Display Test", "Dialog Test", "Plugin Test", "zBack"]
    
    "Display Test":
      zWizard:
        header:
          zDisplay:
            event: header
            label: "Display System Test"
            style: full
            color: MAIN
        text:
          zDisplay:
            event: text
            content: "Testing modern zDisplay API"
        list:
          zDisplay:
            event: list
            items: ["Item 1", "Item 2", "Item 3"]
            style: bullet
        success:
          zDisplay:
            event: success
            content: "Display test completed!"
    
    "Dialog Test":
      zWizard:
        get_input:
          zDialog:
            model: "UserInput"
            fields: ["name", "choice"]
        show_result:
          zDisplay:
            event: json
            data: "zHat"
            color: true
    
    "Plugin Test":
      zWizard:
        generate_id:
          zFunc: "&id_generator.prefixed_id('TEST')"
        hello:
          zFunc: "&test_plugin.hello_world('Navigation Demo')"
        display:
          zDisplay:
            event: json
            data: "zHat"
            color: true
  
  "^Quick Session":
    zDisplay:
      event: zSession

# ============================================================
# Advanced Features Block (accessed via $Advanced.Root)
# ============================================================

Advanced:
  ~Root*: ["Wizard Examples", "Data Operations", "$MainHub.Root", "zBack"]
  
  "Wizard Examples":
    ~Menu*: ["Simple Wizard", "Complex Wizard", "zBack"]
    
    "Simple Wizard":
      zWizard:
        step1:
          zDisplay:
            event: info
            content: "Step 1: Initialize"
        step2:
          zDialog:
            model: "Config"
            fields: ["setting"]
        step3:
          zDisplay:
            event: success
            content: "Configuration: zHat[setting]"
    
    "Complex Wizard":
      zWizard:
        load_schema:
          zData:
            action: load
            schema: "@.zTestSuite.demos.zSchema.sqlite_demo"
        get_data:
          zData:
            action: read
            table: users
            limit: 5
        process:
          zFunc: "&test_plugin.random_number(1, 10)"
        finalize:
          zDisplay:
            event: json
            data: "zHat"
            color: true
  
  "Data Operations":
    ~Menu*: ["Create Record", "Query Records", "zBack"]
    
    "Create Record":
      zWizard:
        load:
          zData:
            action: load
            schema: "@.zTestSuite.demos.zSchema.sqlite_demo"
        dialog:
          zDialog:
            model: "NewUser"
            fields: ["name", "email"]
        insert:
          zData:
            action: create
            table: users
            data:
              name: "zHat[name]"
              email: "zHat[email]"
              created_at: "&id_generator.get_timestamp()"
        success:
          zDisplay:
            event: success
            content: "Record created!"
    
    "Query Records":
      zWizard:
        load:
          zData:
            action: load
            schema: "@.zTestSuite.demos.zSchema.sqlite_demo"
        query:
          zData:
            action: read
            table: users
            limit: 10

# ═══════════════════════════════════════════════════════════
# Data Explorer Block (accessed via $DataExplorer.Root)
# ═══════════════════════════════════════════════════════════

DataExplorer:
  ~Root*: ["Browse Data", "Analytics", "$MainHub.Root", "zBack"]
  
  "Browse Data":
    ~Menu*: ["All Users", "Recent Users", "Search Users", "zBack"]
    
    "All Users":
      zWizard:
        load:
          zData:
            action: load
            schema: "@.zTestSuite.demos.zSchema.sqlite_demo"
        query:
          zData:
            action: read
            table: users
            limit: 20
    
    "Recent Users":
      zWizard:
        load:
          zData:
            action: load
            schema: "@.zTestSuite.demos.zSchema.sqlite_demo"
        query:
          zData:
            action: read
            table: users
            where:
              created_at: "IS NOT NULL"
            limit: 5
        display:
          zDisplay:
            event: json
            data: "zHat"
            color: true
    
    "Search Users":
      zWizard:
        load:
          zData:
            action: load
            schema: "@.zTestSuite.demos.zSchema.sqlite_demo"
        get_search:
          zDialog:
            model: "Search"
            fields: ["term"]
        info:
          zDisplay:
            event: info
            content: "Searching for: zHat[term]"
        query:
          zData:
            action: read
            table: users
            limit: 10
  
  "Analytics":
    ~Menu*: ["Count Records", "Generate Report", "zBack"]
    
    "Count Records":
      zWizard:
        load:
          zData:
            action: load
            schema: "@.zTestSuite.demos.zSchema.sqlite_demo"
        count:
          zData:
            action: read
            table: users
        display:
          zDisplay:
            event: success
            content: "Query executed successfully"
    
    "Generate Report":
      zWizard:
        load:
          zData:
            action: load
            schema: "@.zTestSuite.demos.zSchema.sqlite_demo"
        users:
          zData:
            action: read
            table: users
            limit: 5
        generate_id:
          zFunc: "&id_generator.composite_id('REPORT', 2024)"
        timestamp:
          zFunc: "&id_generator.get_timestamp()"
        summary:
          zDisplay:
            event: json
            data: "zHat"
            color: true

